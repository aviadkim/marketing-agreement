<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>הסכם שיווק השקעות - פרטים אישיים</title>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="/css/styles.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="form-card">
            <header class="form-header">
                <div class="header-container">
                    <div class="logo-container">
                        <img src="/images/movne-logo.png" alt="מובנה" class="logo">
                    </div>
                    <div class="header-text">
                        <h1>הסכם שיווק השקעות חד פעמי למוצרים מובנים</h1>
                    </div>
                </div>
            </header>
            <main class="form-content">
                <form id="section1-form" class="form-section">
                    <div class="grid-2">
                        <div class="input-group">
                            <label>שם פרטי</label>
                            <input type="text" name="firstName" required>
                        </div>
                        <div class="input-group">
                            <label>שם משפחה</label>
                            <input type="text" name="lastName" required>
                        </div>
                        <div class="input-group">
                            <label>תעודת זהות</label>
                            <input type="text" name="idNumber" pattern="\d{9}" minlength="9" maxlength="9" required>
                        </div>
                        <div class="input-group">
                            <label>דוא"ל</label>
                            <input type="email" name="email" required>
                        </div>
                        <div class="input-group">
                            <label>טלפון נייד</label>
                            <input type="tel" name="phone" pattern="[0-9]{10}" minlength="10" maxlength="10" required>
                        </div>
                    </div>
                </form>
            </main>
            <footer class="form-navigation">
                <button type="button" id="saveAndContinue" class="btn-next">
                    <span class="button-text">המשך לשלב הבא</span>
                    <div class="button-loader"></div>
                </button>
            </footer>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-storage-compat.js"></script>

    <!-- PDF Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>window.jsPDF = window.jspdf.jsPDF;</script>

    <!-- Debug Script - תוספת חדשה -->
    <script>
        console.log('=== בדיקת טעינת ספריות ===');
        console.log({
            jspdf: typeof window.jspdf,
            html2canvas: typeof html2canvas,
            firebase: typeof firebase,
            jsPDF: typeof window.jsPDF
        });

        // הוספת כפתור בדיקה זמני
        document.addEventListener('DOMContentLoaded', () => {
            const debugButton = document.createElement('button');
            debugButton.innerHTML = 'בדיקת מערכת';
            debugButton.style.position = 'fixed';
            debugButton.style.bottom = '10px';
            debugButton.style.right = '10px';
            debugButton.onclick = () => {
                console.log('=== בדיקת מערכת ===');
                // בדיקת Firebase
                if (typeof firebase !== 'undefined') {
                    console.log('Firebase זמין');
                    const db = firebase.firestore();
                    db.collection('test').add({
                        test: true,
                        timestamp: new Date()
                    })
                    .then(doc => console.log('נוצר מסמך טסט:', doc.id))
                    .catch(err => console.error('שגיאת Firebase:', err));
                }
                
                // בדיקת PDF
                if (typeof window.jspdf !== 'undefined') {
                    console.log('jsPDF זמין');
                    const doc = new window.jspdf.jsPDF();
                    doc.text('בדיקה', 10, 10);
                    const blob = doc.output('blob');
                    console.log('נוצר PDF בגודל:', blob.size);
                }
            };
            document.body.appendChild(debugButton);
        });
    </script>

    <!-- App Scripts -->
    <script src="/js/section1Submit.js"></script>
    <script src="/js/navigation.js"></script>
</body>
</html>
